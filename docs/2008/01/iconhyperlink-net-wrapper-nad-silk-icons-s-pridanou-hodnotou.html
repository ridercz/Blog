<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>IconHyperLink - .NET wrapper nad Silk icons s přidanou hodnotou | ALTAIR.blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="cs-CZ" />
    <link rel="canonical" href="https://www.altair.blog/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="/content/styles.min.css?sha=86D6BE2BECADA8998ACB7999F797DEF1103C76B2" />
    <link rel="stylesheet" type="text/css" href="/content/fa-6.5.1/css/all.min.css" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed.rss" title="RSS (všechny články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-internal.rss" title="RSS (pouze místní články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-external.rss" title="RSS (pouze odkazy)" />
    <link rel="shortcut icon" href="https://www.altair.blog/favicon.ico" />
    <link rel="icon" href="https://www.altair.blog/favicon.ico" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@ridercz" />
    <meta name="twitter:title" content="IconHyperLink - .NET wrapper nad Silk icons s přidanou hodnotou" />
    <meta name="twitter:description" content="Velice rád v administraci svých aplikacích používám ikonky ze sady Silk od FamFamFam. Kopírovat je ale přímo je z mnoha důvodů nepraktické, takže jsem si vytvořil .NETovou komponentu, která je opečovává a uchovává v jediném DLL. Její zdrojový kód vás také naučí, jak vytvářet vlastní serverové ovládací prvky založené na CompositeControl a jak ukládat obrázky, JavaScript a podobná data do resources a pak je také načítat." />
    <meta name="twitter:image" content="https://www.altair.blog/content/images/preview-1200.jpg" />
    <meta property="article:published_time" content="2008-01-09T22:51:22.53+01:00" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="ALTAIR.blog" />
    <meta name="author" content="Michal Altair Valášek" />
    <meta name="title" property="og:title" content="IconHyperLink - .NET wrapper nad Silk icons s přidanou hodnotou" />
    <meta name="description" property="og:description" content="Velice rád v administraci svých aplikacích používám ikonky ze sady Silk od FamFamFam. Kopírovat je ale přímo je z mnoha důvodů nepraktické, takže jsem si vytvořil .NETovou komponentu, která je opečovává a uchovává v jediném DLL. Její zdrojový kód vás také naučí, jak vytvářet vlastní serverové ovládací prvky založené na CompositeControl a jak ukládat obrázky, JavaScript a podobná data do resources a pak je také načítat." />
    <meta name="image" property="og:image" content="https://www.altair.blog/content/images/preview-1200.jpg" />
    <meta property="og:locale" content="cs_CZ" />
    <meta property="og:url" content="https://www.altair.blog/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou" />
    <script>
      (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){
          (a[h].q=a[h].q||[]).push(arguments)
        };
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
      })(document, window, '//stats.altair.blog/tracker.js', 'fathom');
      fathom('set', 'siteId', 'OBOTR');
      fathom('trackPageview');
    </script>
    <script src="/content/scripts/autocorrect.js?sha=3D24FB150C3151FFF3B9BFCA112E1A8B2F32B377" defer="defer" onload="typo.runAutoCorrector({number: false})">//</script>
    <meta name="robots" content="index, follow" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css" integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <header>
      <div>
        <a href="/">
          <img src="/content/images/logo_onblack.svg" alt="altair.blog" style="max-height:100px;max-width:80%" />
        </a>
      </div>
    </header>
    <nav>
      <ul>
        <li>
          <a href="https://www.rider.cz/" title="Autor: Michal Altair Valášek">
            <i class="fal fa-fw fa-user"> </i>
          </a>
        </li>
        <li>
          <a href="/archive" title="Archiv článků">
            <i class="fal fa-fw fa-archive"> </i>
          </a>
        </li>
        <li>
          <a href="/categories" title="Rubriky">
            <i class="fal fa-fw fa-tags"> </i>
          </a>
        </li>
        <li>
          <a href="/serials" title="Seriály">
            <i class="fal fa-fw fa-list-alt"> </i>
          </a>
        </li>
        <li>
          <a href="/search" title="Vyhledávání">
            <i class="fal fa-fw fa-search"> </i>
          </a>
        </li>
        <li>
          <a href="https://www.rider.cz/#contact" title="Kontakt">
            <i class="fal fa-fw fa-envelope"> </i>
          </a>
        </li>
        <li>
          <a href="https://facebook.com/rider.cz" title="Facebook">
            <i class="fab fa-fw fa-facebook"> </i>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/ridercz" title="Twitter">
            <i class="fab fa-twitter"> </i>
          </a>
        </li>
        <li>
          <a href="https://github.com/ridercz" title="Github">
            <i class="fab fa-fw fa-github"> </i>
          </a>
        </li>
        <li>
          <a href="https://ask.fm/ridercz" title="Ask.fm">
            <i class="fal fa-fw fa-question"> </i>
          </a>
        </li>
      </ul>
    </nav>
    <main>
      <h1>IconHyperLink - .NET wrapper nad Silk icons s přidanou hodnotou</h1>
      <aside class="article-info">
        <ul class="categories">
          <li>
            <a href="/categories/it" title="Rubrika">
              <i class="fal fa-tag"> </i>IT</a>
          </li>
        </ul>
        <div title="Autor">
          <a href="https://www.rider.cz/">Michal Altair Valášek </a>
          <i class="fal fa-fw fa-user">​</i>
        </div>
        <div title="Datum vydání">
          <time datetime="2008-01-09T22:51:22.53+01:00">9. ledna 2008 <i class="fal fa-fw fa-calendar-lines">​</i></time>
        </div>
      </aside>
      <section class="article-text">
        <p>Velice rád ve svých aplikacích (zejména v administrační části) používám ikonky ze sady <a href="http://www.famfamfam.com/lab/icons/silk/">Silk od FamFamFam</a>. Pokud je neznáte tak vězte, že se jedná o rovnou tisícovku volně použitelných ikonek ve formátu PNG o rozměru 16x16 px.</p> <p>Jejich použití je ale v praxi poněkud komplikované - věčně si nepamatuju jejich názvy, natožpak vědět které ikonky jsem kde použil, takže musím obvykle kopírovat celou sadu. To ale není moc praktické, protože 1000 malinkých souborů znamená velkou režii při ukládání, přenosu a obecně jakékoliv manipulaci.</p> <p>Naštěstí .NET umí uložit do resource a tudíž &quot;zakompilovat&quot; do assembly (v našem případě tedy do DLL souboru) libovolná data, včetně binárních. ASP.NET pak pomocí speciálního vestavěného handleru s adresou <em>WebResource.axd</em> umí tato data vytáhnout a zobrazit. Pomocí této techniky jsem všech tisíc malých obrázků vecpal do jednoho souboru, se kterým je přece jenom snazší pořízení.</p> <p>Dále pak jsem vytvořil nový server control, nazvaný <code>IconHyperLink</code>. Tento control se chová podobně jako normální HyperLink, ale umožnuje specifikovat pojmenovanou ikonku, kterou zobrazí. Kromě toho umí vedle ikonky zobrazit i vysvětlující text, takže chci-li zobrazit současně text a obrázek, stačí mi na to jeden prvek, nemusím na stránku dávat dva.</p> <h2>Web Resources</h2> <p>Postup pro vytvoření komponenty s vloženými web resources je vcelku jednoduchý, ale musí se dodržet naprosto přesně, včetně například velikosti písmen v názvech souborů a adresářů a podobně.</p> <p>V první řadě si vytvořte projekt typu <em>Class library</em>. Přímo do webové aplikace samotné resources vložit nemůžete. Poté si otevřete vlastnosti projektu (<em>Project Properties</em>) a na záložce Application nastavte v poli <em>Default namespace</em> výchozí namespace, který chcete používat. V mém případě to je <code>Altairis.Web.Icons</code>.</p> <p>Dále pak si v projektu vytvořte složku a vhodně ji pojmenujte - já osobně ji obvykle nazývám <code>Resources</code>, přílišná kreativita je v tomto případě na škodu. Do této složky pak přidejte soubory, které chcete do resources uložit - v našem případě je to tedy oněch 1000 PNG obrázků. Nejjednodušší způsob je přetáhnout je myší z nějakého správce souborů, ale jde to i přes vkládací dialog.</p> <p>Po vložení si označte soubory, kterých se to týká (může jich naštěstí být víc současně) a zobrazte si jejich vlastnosti, například stiskem F4. Hodnotu vlastnosti <em>Build Action</em> nastavte na <em>Embedded Resource</em>.</p> <p>Poté si kdekoliv v projektu vytvořte nový soubor s kódem (<em>Code file</em>). Je jedno, jak se bude jmenovat, já ho obvykle pojmenovávám <em>_ResourceRegistration.cs</em>. Do tohoto souboru zadejte obsah dle následujícího vzoru (všimněte si, že tam není žádná definice class, namespace a podobně):</p> <div style="font-size: 12pt; background: white; color: black; font-family: consolas, courier new"> <p style="margin: 0px"><span style="color: blue">using</span> System.Web.UI;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">[<span style="color: blue">assembly</span>: <span style="color: #2b91af">WebResource</span>(<span style="color: #a31515">&quot;Altairis.Web.Icons.Resources.Accept.png&quot;</span>, <span style="color: #a31515">&quot;image/png&quot;</span>)]</p> <p style="margin: 0px">[<span style="color: blue">assembly</span>: <span style="color: #2b91af">WebResource</span>(<span style="color: #a31515">&quot;Altairis.Web.Icons.Resources.Add.png&quot;</span>, <span style="color: #a31515">&quot;image/png&quot;</span>)]</p> <p style="margin: 0px">[<span style="color: blue">assembly</span>: <span style="color: #2b91af">WebResource</span>(<span style="color: #a31515">&quot;Altairis.Web.Icons.Resources.Anchor.png&quot;</span>, <span style="color: #a31515">&quot;image/png&quot;</span>)]</p></div> <p>Atribut <code>WebResource</code> opakujte tolikrát, kolik souborů chcete vložit. První argument jeho konstruktoru je logický název resource - ten budete potřebovat později, až budete chtít předmětná data získat. Musí přesně, včetně velkých a malých písmen, odpovídat default namespace (<code>Altairis.Web.Icons</code>) plus názvu složky (<code>Resources</code>) a souboru (<code>Accept.png</code>). Druhý argument je MIME typ daného souboru. Handler při odpovědi na požadavek na resource pošle i jeho MIME typ.</p> <p>Kdekoliv pak budete potřebovat získat URL, na němž si budete moci obsah tohoto resource stáhnout, stačí zavolat metodu <code>Page.ClientScript.GetWebResourceUrl</code>. Jako první argument bere typ určující assembly (můžete použít jakýkoliv typ, který je obsažený v assembly, kde jsou resources registrovány), jako druhý argument pak logický název resource, který musí být stejný, jako při registraci v atributu <code>WebResource</code>.</p> <p>Podrobnější informace o fungování web resources najdete v těchto výtečných (i když poněkud zastaralých) článcích:</p> <ul> <li><a title="A bit about WebResourceAttribute in ASP.NET Whidbey and the related Web Resources feature." href="http://www.nikhilk.net/WebResourceAttribute.aspx">Whats with System.Web.UI.WebResourceAttribute?</a>  <li><a title="We found a potential Denial of Service (DOS) attack using Web resources, and fixed it..." href="http://www.nikhilk.net/WebResourcesDenialOfServiceAttack.aspx">Mitigating Denial of Service attacks with Web Resources</a></li></ul> <h2>Použití CompositeControl</h2> <p>Existují v zásadě dva přístupy, které můžete využít k tomu, abyste vytvořili ovládací prvek jako je <code>IconHyperLink</code>. První, na první pohled jednodušší, způsob spočívá v tom, že si vytvoříte novou třídu, kterou podědíte od <code>System.Web.UI.Control</code> nebo <code>System.Web.UI.WebControls.WebControl</code>. V ní pak přepíšete metodu <code>Render</code> a vypíšete do TextWriteru HTML, jaké jest vám libo.</p> <p>Existuje ale ještě jeden přístup, který můžete využít tehdy, když váš control v podstatě nedělá nic jiného, než že sdružuje několik existujících server controls ve vzájemné interakci. To je i případ prvku <code>IconHyperLink</code> - v podstatě se jedná jenom o kontajner, který obsahuje dva controly typu <code>HyperLink</code> s nějak specificky nastavenými vlastnostmi - jeden pro ikonku, druhý pro textový popisek. Stačí třídu controlu podědit od <code>System.Web.UI.WebControls.CompositeControl</code> a místo metody <code>Render</code> přepsat metodu <code>CreateChildControls</code>. V ní pak do kolekce <code>Controls</code> nacpete podřízené ovládací prvky.</p> <p>Tento přístup má dvě hlavní výhody: Získáte tím bez námahy podporu veškeré infrastruktury v ASP.NET, včetně design time podpory, control adaptérů, skinů a podobně. Kromě toho v případě složitějších prvků patrně oceníte, že výsledný HTML kód nemusíte generovat sami.</p> <p>Kompletní zdrojový kód třídy <code>IconHyperLink</code> vypadá takto:</p> <div style="font-size: 12pt; background: white; color: black; font-family: consolas, courier new"> <p style="margin: 0px"><span style="color: blue">using</span> System.ComponentModel;</p> <p style="margin: 0px"><span style="color: blue">using</span> System.Web.UI;</p> <p style="margin: 0px"><span style="color: blue">using</span> System.Web.UI.WebControls;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px"><span style="color: blue">namespace</span> Altairis.Web.Icons {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">IconHyperLink</span> : <span style="color: #2b91af">CompositeControl</span> {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">const</span> <span style="color: blue">string</span> ResourceNameFormat = <span style="color: #a31515">&quot;Altairis.Web.Icons.Resources.{0}.png&quot;</span>;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> IconHyperLink() {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.Icon = <span style="color: #2b91af">IconType</span>.NoIcon;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.Mode = <span style="color: #2b91af">DisplayMode</span>.IconLeft;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Category</span>(<span style="color: #a31515">&quot;Navigation&quot;</span>), <span style="color: #2b91af">DefaultValue</span>(<span style="color: #a31515">&quot;&quot;</span>), <span style="color: #2b91af">Bindable</span>(<span style="color: blue">true</span>), <span style="color: #2b91af">UrlProperty</span>]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">string</span> NavigateUrl {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> (<span style="color: blue">string</span>)(<span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;NavigateUrl&quot;</span>] ?? <span style="color: blue">string</span>.Empty); }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { <span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;NavigateUrl&quot;</span>] = <span style="color: blue">value</span>; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Category</span>(<span style="color: #a31515">&quot;Navigation&quot;</span>), <span style="color: #2b91af">DefaultValue</span>(<span style="color: #a31515">&quot;&quot;</span>), <span style="color: #2b91af">TypeConverter</span>(<span style="color: blue">typeof</span>(<span style="color: #2b91af">TargetConverter</span>))]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">string</span> Target {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> (<span style="color: blue">string</span>)(<span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Target&quot;</span>] ?? <span style="color: blue">string</span>.Empty); }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { <span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Target&quot;</span>] = <span style="color: blue">value</span>; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Category</span>(<span style="color: #a31515">&quot;Appearance&quot;</span>), <span style="color: #2b91af">DefaultValue</span>(<span style="color: #a31515">&quot;&quot;</span>), <span style="color: #2b91af">Bindable</span>(<span style="color: blue">true</span>), <span style="color: #2b91af">Localizable</span>(<span style="color: blue">true</span>)]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">string</span> Text {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> (<span style="color: blue">string</span>)(<span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Text&quot;</span>] ?? <span style="color: blue">string</span>.Empty); }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { <span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Text&quot;</span>] = <span style="color: blue">value</span>; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Category</span>(<span style="color: #a31515">&quot;Appearance&quot;</span>), <span style="color: #2b91af">Themeable</span>(<span style="color: blue">true</span>), <span style="color: #2b91af">Bindable</span>(<span style="color: blue">true</span>), <span style="color: #2b91af">DefaultValue</span>(<span style="color: #2b91af">IconType</span>.NoIcon)]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: #2b91af">IconType</span> Icon {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> (<span style="color: #2b91af">IconType</span>)(<span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Icon&quot;</span>] ?? <span style="color: #2b91af">IconType</span>.NoIcon); }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { <span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Icon&quot;</span>] = <span style="color: blue">value</span>; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Category</span>(<span style="color: #a31515">&quot;Appearance&quot;</span>), <span style="color: #2b91af">Themeable</span>(<span style="color: blue">true</span>), <span style="color: #2b91af">DefaultValue</span>(<span style="color: #2b91af">DisplayMode</span>.IconLeft)]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: #2b91af">DisplayMode</span> Mode {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> (<span style="color: #2b91af">DisplayMode</span>)(<span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Mode&quot;</span>] ?? <span style="color: #2b91af">DisplayMode</span>.IconLeft); }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { <span style="color: blue">this</span>.ViewState[<span style="color: #a31515">&quot;Mode&quot;</span>] = <span style="color: blue">value</span>; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">protected</span> <span style="color: blue">override</span> <span style="color: blue">void</span> CreateChildControls() {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">switch</span> (<span style="color: blue">this</span>.Mode) {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">case</span> <span style="color: #2b91af">DisplayMode</span>.IconLeft:</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddIconLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddTextLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">case</span> <span style="color: #2b91af">DisplayMode</span>.IconRight:</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddTextLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddIconLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">case</span> <span style="color: #2b91af">DisplayMode</span>.IconOnly:</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddIconLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">default</span>: <span style="color: green">// DisplayMode.TextOnly:</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.AddTextLink();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">void</span> AddIconLink() {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// If no icon specified, do nothing</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (<span style="color: blue">this</span>.Icon == <span style="color: #2b91af">IconType</span>.NoIcon) <span style="color: blue">return</span>;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// Create new hyperlink and setup basic properties</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">HyperLink</span> link = <span style="color: blue">new</span> <span style="color: #2b91af">HyperLink</span>();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.NavigateUrl = <span style="color: blue">this</span>.NavigateUrl;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Text = <span style="color: blue">this</span>.Text;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Target = <span style="color: blue">this</span>.Target;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Width = <span style="color: #2b91af">Unit</span>.Pixel(16);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Height = <span style="color: #2b91af">Unit</span>.Pixel(16);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.ToolTip = <span style="color: blue">this</span>.ToolTip;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// Set image source to web resource to this item</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.ImageUrl = <span style="color: blue">this</span>.Page.ClientScript.GetWebResourceUrl(</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.GetType(),</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">string</span>.Format(ResourceNameFormat, <span style="color: blue">this</span>.Icon));</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// Add to child controls</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.Controls.Add(link);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">void</span> AddTextLink() {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// If no text specified, do nothing</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (<span style="color: blue">string</span>.IsNullOrEmpty(<span style="color: blue">this</span>.Text)) <span style="color: blue">return</span>;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// Create new hyperlink and setup basic properties</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">HyperLink</span> link = <span style="color: blue">new</span> <span style="color: #2b91af">HyperLink</span>();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.NavigateUrl = <span style="color: blue">this</span>.NavigateUrl;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Text = <span style="color: blue">this</span>.Text;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.Target = <span style="color: blue">this</span>.Target;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// Add to child controls</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.Controls.Add(link);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">}</p></div> <p>Myslím, že je vcelku jednoduchý a srozumitelný. Enum <code>IconType</code> obsahuje seznam všech podporovaných ikon a využívá ho vlastnost <code>Icon</code>. Obdobně vlastnost <code>Mode</code> a jí odpovídající enum <code>DisplayMode</code> určuje, jak se vedle sebe zobrazí ikonka a text:</p> <div style="font-size: 12pt; background: white; color: black; font-family: consolas, courier new"> <p style="margin: 0px"><span style="color: blue">namespace</span> Altairis.Web.Icons {</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">enum</span> <span style="color: #2b91af">DisplayMode</span> {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IconLeft,&nbsp; <span style="color: green">// Icon on left side of text</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IconRight, <span style="color: green">// Icon on right side of text</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IconOnly,&nbsp; <span style="color: green">// Show icon only</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TextOnly&nbsp;&nbsp; <span style="color: green">// Show text only</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; };</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">enum</span> <span style="color: #2b91af">IconType</span> {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NoIcon,</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Accept,</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add,</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// ...</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ZoomOut</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">}</p></div> <h2>Download</h2> <p>Kompletní zdrojové kódy k článku si můžete stáhnout zde: <a href="https://www.cdn.altairis.cz/Blog/2008/20080109-AltairisWebIcons.zip">20080109-AltairisWebIcons.zip (800 kB)</a>. Projekt je psaný ve Visual Studiu 2008, ale pro .NET Framework 2.0 a měl by jít otevřít i ve VS 2005. Bohužel nyní služebně dlím v ošklivé severomoravské vesničce jménem Zlín a mám s sebou jenom notebook, na němž už VS 2005 nemám, takže to nemohu vyzkoušet.</p>

      </section>
      <section class="issues">
        <header>
          <i class="fab fa-github">​</i> Je v článku něco špatně? Chcete něco doplnit?</header>
        <p>Komentáře zde nenajdete, ale pokud je v článku chyba nebo k němu chcete něco věcného doplnit, můžete na GitHubu <a href="https://github.com/ridercz/Blog/issues/new?title=IconHyperLink+-+.NET+wrapper+nad+Silk+icons+s+p%c5%99idanou+hodnotou&amp;body=https://www.altair.blog/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou">otevřít nový issue</a> nebo <a href="https://github.com/ridercz/Blog/edit/master/source/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou.md">navrhnout změnu v textu</a> a poslat mi pull request.</p>
        <p>Tamtéž také najdete <a href="https://github.com/ridercz/Blog/commits/master/source/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou.md">historii všech verzí článku</a>, pokud v něm byly provedeny nějaké změny či úpravy.</p>
      </section>
      <section class="sharing">
        <span>Pošli to dál:</span>
        <ul>
          <li>
            <a href="https://twitter.com/intent/tweet?text=https://www.altair.blog/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou">
              <i class="fab fa-x-twitter">​</i>
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com/sharer.php?u=https://www.altair.blog/2008/01/iconhyperlink-net-wrapper-nad-silk-icons-s-pridanou-hodnotou">
              <i class="fab fa-facebook-f">​</i>
            </a>
          </li>
        </ul>
      </section>
    </main>
    <footer>
      <ul class="logos">
        <li>
          <img src="/content/images/logo_onwhite.svg" alt="altair.blog" style="height:38px;" />
        </li>
      </ul>
      <ul class="text">
        <li>
          Copyright © <a href="https://www.rider.cz/">Michal Altair Valášek</a>, 2003-2025</li>
        <li>
          Powered by <a href="https://www.xml4web.com/">XML4web</a> on <a href="https://www.github.com/">GitHub Pages</a></li>
        <li>
          <i class="fal fa-rss">​</i> RSS: <a href="/feed.rss">všechno</a> | <a href="/feed-internal.rss">místní</a> | <a href="/feed-external.rss">odkazy</a></li>
      </ul>
    </footer>
  </body>
</html>