<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Nainstalujte si mimořádnou bezpečnostní aktualizaci pro ASP.NET | ALTAIR.blog</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="cs-CZ" />
    <meta name="Description" content="Microsoft zhruba před hodinou uveřejnil mimořádnou bezpečnostní aktualizaci pro ASP.NET, která zabraňuje možnému DoS útoku." />
    <link rel="stylesheet" type="text/css" href="/content/styles.min.css?sha=B6821C0583D8440A75575E6C465DC5975C8BB563" />
    <link rel="stylesheet" type="text/css" href="/content/fa-5.1.0/css/all.css" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed.rss" title="RSS (všechny články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-internal.rss" title="RSS (pouze místní články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-external.rss" title="RSS (pouze odkazy)" />
    <link rel="shortcut icon" href="https://www.altair.blog/favicon.ico" />
    <link rel="icon" href="https://www.altair.blog/favicon.ico" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ridercz" />
    <meta name="twitter:title" content="Nainstalujte si mimořádnou bezpečnostní aktualizaci pro ASP.NET" />
    <meta name="twitter:description" content="Microsoft zhruba před hodinou uveřejnil mimořádnou bezpečnostní aktualizaci pro ASP.NET, která zabraňuje možnému DoS útoku." />
    <meta name="twitter:image" content="https://www.altair.blog/content/images/preview-1200.jpg" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="ALTAIR.blog" />
    <meta property="og:title" content="Nainstalujte si mimořádnou bezpečnostní aktualizaci pro ASP.NET" />
    <meta property="og:description" content="Microsoft zhruba před hodinou uveřejnil mimořádnou bezpečnostní aktualizaci pro ASP.NET, která zabraňuje možnému DoS útoku." />
    <meta property="og:image" content="https://www.altair.blog/content/images/preview-1200.jpg" />
    <meta property="og:image:height" content="1200" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:locale" content="cs_CZ" />
    <meta name="robots" content="index, follow" />
  </head>
  <body>
    <header>
      <div>
        <a href="/">
          <img src="/content/images/logo_onblack.svg" alt="altair.blog" style="height:100px;" />
        </a>
      </div>
    </header>
    <nav>
      <ul>
        <li>
          <a href="https://www.rider.cz/" title="Autor: Michal Altair Valášek">
            <i class="fal fa-user"> </i>
          </a>
        </li>
        <li>
          <a href="/archive" title="Archiv článků">
            <i class="fal fa-archive"> </i>
          </a>
        </li>
        <li>
          <a href="/categories" title="Rubriky">
            <i class="fal fa-tags"> </i>
          </a>
        </li>
        <li>
          <a href="/serials" title="Seriály">
            <i class="fal fa-list-alt"> </i>
          </a>
        </li>
        <li>
          <a href="/search" title="Vyhledávání">
            <i class="fal fa-search"> </i>
          </a>
        </li>
        <li>
          <a href="https://www.rider.cz/#contact" title="Kontakt">
            <i class="fal fa-envelope"> </i>
          </a>
        </li>
        <li>
          <a href="https://facebook.com/rider.cz" title="Facebook">
            <i class="fab fa-facebook"> </i>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/ridercz" title="Twitter">
            <i class="fab fa-twitter"> </i>
          </a>
        </li>
        <li>
          <a href="https://github.com/ridercz" title="Github">
            <i class="fab fa-github"> </i>
          </a>
        </li>
        <li>
          <a href="https://ask.fm/ridercz" title="Ask.fm">
            <i class="fal fa-question"> </i>
          </a>
        </li>
      </ul>
    </nav>
    <main>
      <h1>Nainstalujte si mimořádnou bezpečnostní aktualizaci pro ASP.NET</h1>
      <aside class="article-info">
        <ul class="categories">
          <li>
            <a href="/categories/bezpecnost" title="Rubrika">
              <i class="fal fa-tag"> </i>Bezpečnost</a>
          </li>
        </ul>
        <div>
          <a href="https://www.rider.cz/">Michal Altair Valášek </a>
          <i class="fal fa-user">​</i>
        </div>
        <div>
          <time datetime="2011-12-29T21:14:33+01:00" title="Datum vydání">29. prosince 2011 <i class="fal fa-calendar-alt">​</i></time>
        </div>
      </aside>
      <section class="article-text">
        <p>Microsoft zhruba před hodinou uveřejnil mimořádnou bezpečnostní aktualizaci pro ASP.NET, která zabraňuje možnému DoS útoku. V čem je problém? Pokusím se jej vysvětlit velmi zjednodušeně, pro detailní vysvětlení doporučuji odkazy na konci článku.</p>
<p>Při vývoj software se velmi často používají různé typy kolekcí klíč – hodnota. V různých programovacích jazycích se nazývají různě, ale základem je vždy nějaká forma hashovací tabulky, v níž se ukládají klíče a podle které se vyhledává.</p>
<p>Pokud vezmeme například klasickou C# kolekci se stringovým klíčem, nedochází při prohledávání z výkonových důvodů ke skutečnému porovnávání řetězců. Místo toho se spočítá hash, což je 32-bitové číslo, a dále se pracuje jenom s ním, což je výpočetně efektivnější. Každý objekt má metodu <a href="http://msdn.microsoft.com/en-us/library/system.object.gethashcode.aspx">GetHashCode</a>, která tento hash vypočítá.</p>
<p>Hash v tomto ohledu nemá nic společného s algoritmy jako je MD5, SHA-1, SHA-256 a podobně, algoritmus je mnohem jednodušší a náchylnější ke konfliktům. Slouží ke zjednodušení interních procesů, <a href="http://blogs.msdn.com/b/ericlippert/archive/2005/10/24/482447.aspx">nikoliv k nějaké formě zabezpečení</a> atd. Pro běžného programátora je tento mechanismus v podstatě neviditelný, hodnoty jsou pro něj nepoužitelné – <a href="http://blogs.msdn.com/b/ericlippert/archive/2011/07/15/the-curious-property-revealed.aspx">jsou závislé na platformě a mohou se kdykoliv změnit</a>. Pro porovnání ve většině případů tyto hashe stačí. Teprve v případě konfliktu se používají náročnější metody. Pravděpodobnost konfliktu je sice mnohonásobně větší, než v případě kryptografických hashovacích algoritmů, ale pro běžné použití postačuje. Nicméně, pokud by se kolekce naplnila klíči, které jsou speciálně navržené tak, aby tam ke konfliktům docházelo (a bude jich hodně), práce se dramaticky zpomalí, což může vést k Denial of Service útoku třeba u form fieldů při HTTP requestech.</p>
<p>Tento problém se netýká jenom ASP.NET, právě naopak – stejně jako v případě &quot;<a href="http://www.aspnet.cz/articles/303-padding-oracle-chyba-v-asp-net-o-co-vlastne-slo">padding oracle</a>&quot; problému se jedná o obecný návrhový problém, který mají prakticky všechny webové frameworky a řada dalšího software. Praktický útok byl otestován kromě ASP.NET i na PHP 5, Javu a V8 (JavaScriptový engine od Google) a za určitých okolností jsou napadnutelné i PHP 4, Python a Ruby.</p>
<ul>
<li>Oficiální security bulletin: <a href="http://technet.microsoft.com/en-us/security/bulletin/ms11-100">Microsoft Security Bulletin MS11-100 – Critical</a></li>
<li>Článek o dostupné aktualizaci: <a href="http://weblogs.asp.net/scottgu/archive/2011/12/28/asp-net-security-update-shipping-thursday-dec-29th.aspx">Scott Guthrie: ASP.NET Security Update Shipping Thursday, Dec 29th</a></li>
<li>Původní článek popisující teoretické pozadí útoků: <a href="http://www.cs.rice.edu/%7Escrosby/hash/CrosbyWallach_UsenixSec2003.pdf">Scott A. Crosby, Dan S. Wallach: Denial of Service via Algorithmic Complexity Attacks</a></li>
<li>Demonstrace útoků na současné platformy: <a href="http://www.nruns.com/_downloads/advisory28122011.pdf">n.runs-SA-2011.004 - web programming languages and platforms - DoS through hash table</a></li>
</ul>
<p>Dnes v 19:00 Microsoft uvolnil mimořádnou bezpečnostní aktualizaci (out-of-band security update), která tento problém řeší. Záplata je k dispozici na Windows Update a stačí tedy dát vyhledat dostupné aktualizace a budou nabídnuty patřičné balíčky (podle verzí .NET Frameworku):</p>
<p><a href="https://www.cdn.altairis.cz/Blog/2011/20111229-oobsecurityupdate_2.png"><img src="https://www.cdn.altairis.cz/Blog/2011/20111229-oobsecurityupdate_thumb.png" alt="Screenshot" title="Windows Update: záplaty pro .NET 3.5 a 4.0 na Windows 2008 R2" /></a></p>
<p>Problém není natolik kritický, aby bylo nutné záplatu bezpodmínečně instalovat teď hned a přijímat dramatická opatření. Není známo, že by v současné době takové útoky probíhaly a výsledkem může být jenom DoS po dobu trvání útoku, nedojde tedy k vyzrazení citlivých dat atd. Nicméně útok je principiálně velmi snadný a je jenom otázkou času, kdy někdo napíše nástroj použitelný i pro script kiddies, takže nedoporučuji s instalací ani příliš otálet.</p>

      </section>
      <section class="sharing">
        <span>Pošli to dál:</span>
        <ul>
          <li>
            <a href="https://twitter.com/intent/tweet?text=https://www.altair.blog/2011/12/nainstalujte-si-mimoradnou-bezpecnostni-aktualizaci-pro-asp-net">
              <i class="fab fa-facebook-f">​</i>
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com/sharer.php?u=https://www.altair.blog/2011/12/nainstalujte-si-mimoradnou-bezpecnostni-aktualizaci-pro-asp-net">
              <i class="fab fa-twitter">​</i>
            </a>
          </li>
        </ul>
      </section>
    </main>
    <footer>
      <ul class="logos">
        <li>
          <img src="/content/images/logo_onwhite.svg" alt="altair.blog" style="height:38px;" />
        </li>
      </ul>
      <ul class="text">
        <li>
          Copyright © <a href="https://www.rider.cz/">Michal Altair Valášek</a>, 2003-2018</li>
        <li>
          Powered by <a href="https://www.xml4web.com/">XML4web</a> on <a href="https://www.github.com/">GitHub Pages</a></li>
        <li>
          <i class="fal fa-rss">​</i> RSS: <a href="/feed.rss">všechno</a> | <a href="/feed-internal.rss">místní</a> | <a href="/feed-external.rss">odkazy</a></li>
      </ul>
    </footer>
  </body>
</html>