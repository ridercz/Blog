<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Moje vybavení pro live stream: OBS control rig | ALTAIR.blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="cs-CZ" />
    <meta name="Description" content="Příští týden mne čekají hned tři live streamy a proto jsem se rozhodl poněkud upgradovat svou streamovací sestavu, dosud používanou převážně na dálková školení. Vyrobil jsem také hardwarovou konzoli (rig) na ovládání OBS Studia." />
    <link rel="canonical" href="https://www.altair.blog/2019/03/obs-control" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css" />
    <link rel="stylesheet" type="text/css" href="/content/styles.min.css?sha=ADB9BC677B325B3DF407CA8A9A72B5865E6CF3F5" />
    <link rel="stylesheet" type="text/css" href="/content/fa-5.8.1/css/all.min.css" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed.rss" title="RSS (všechny články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-internal.rss" title="RSS (pouze místní články)" />
    <link rel="alternate" type="application/rss+xml" href="https://www.altair.blog/feed-external.rss" title="RSS (pouze odkazy)" />
    <link rel="shortcut icon" href="https://www.altair.blog/favicon.ico" />
    <link rel="icon" href="https://www.altair.blog/favicon.ico" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ridercz" />
    <meta name="twitter:title" content="Moje vybavení pro live stream: OBS control rig" />
    <meta name="twitter:description" content="Příští týden mne čekají hned tři live streamy a proto jsem se rozhodl poněkud upgradovat svou streamovací sestavu, dosud používanou převážně na dálková školení. Vyrobil jsem také hardwarovou konzoli (rig) na ovládání OBS Studia." />
    <meta name="twitter:image" content="https://www.altair.blog/cover-pictures/20190302-obs-control.jpg" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="ALTAIR.blog" />
    <meta property="og:title" content="Moje vybavení pro live stream: OBS control rig" />
    <meta property="og:description" content="Příští týden mne čekají hned tři live streamy a proto jsem se rozhodl poněkud upgradovat svou streamovací sestavu, dosud používanou převážně na dálková školení. Vyrobil jsem také hardwarovou konzoli (rig) na ovládání OBS Studia." />
    <meta name="og:image" content="https://www.altair.blog/cover-pictures/20190302-obs-control.jpg" />
    <meta property="og:locale" content="cs_CZ" />
    <meta property="og:url" content="https://www.altair.blog/2019/03/obs-control" />
    <script>
      (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){
          (a[h].q=a[h].q||[]).push(arguments)
        };
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
      })(document, window, '//stats.altair.blog/tracker.js', 'fathom');
      fathom('set', 'siteId', 'OBOTR');
      fathom('trackPageview');
    </script>
    <meta name="robots" content="index, follow" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css" integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk=" crossorigin="anonymous" />
  </head>
  <body class="hascover" style="background-image: url(/cover-pictures/20190302-obs-control.jpg)">
    <header>
      <div>
        <a href="/">
          <img src="/content/images/logo_onblack.svg" alt="altair.blog" style="max-height:100px;max-width:80%" />
        </a>
      </div>
    </header>
    <nav>
      <ul>
        <li>
          <a href="https://www.rider.cz/" title="Autor: Michal Altair Valášek">
            <i class="fal fa-fw fa-user"> </i>
          </a>
        </li>
        <li>
          <a href="/archive" title="Archiv článků">
            <i class="fal fa-fw fa-archive"> </i>
          </a>
        </li>
        <li>
          <a href="/categories" title="Rubriky">
            <i class="fal fa-fw fa-tags"> </i>
          </a>
        </li>
        <li>
          <a href="/serials" title="Seriály">
            <i class="fal fa-fw fa-list-alt"> </i>
          </a>
        </li>
        <li>
          <a href="/search" title="Vyhledávání">
            <i class="fal fa-fw fa-search"> </i>
          </a>
        </li>
        <li>
          <a href="https://www.rider.cz/#contact" title="Kontakt">
            <i class="fal fa-fw fa-envelope"> </i>
          </a>
        </li>
        <li>
          <a href="https://facebook.com/rider.cz" title="Facebook">
            <i class="fab fa-fw fa-facebook"> </i>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/ridercz" title="Twitter">
            <i class="fab fa-twitter"> </i>
          </a>
        </li>
        <li>
          <a href="https://github.com/ridercz" title="Github">
            <i class="fab fa-fw fa-github"> </i>
          </a>
        </li>
        <li>
          <a href="https://ask.fm/ridercz" title="Ask.fm">
            <i class="fal fa-fw fa-question"> </i>
          </a>
        </li>
      </ul>
    </nav>
    <main>
      <h1>Moje vybavení pro live stream: OBS control rig</h1>
      <aside class="article-info">
        <ul class="categories">
          <li>
            <a href="/categories/bastleni" title="Rubrika">
              <i class="fal fa-tag"> </i>Bastlení</a>
          </li>
        </ul>
        <div>
          <a href="https://www.rider.cz/">Michal Altair Valášek </a>
          <i class="fal fa-user">​</i>
        </div>
        <div>
          <time datetime="2019-03-02" title="Datum vydání">2. března 2019 <i class="fal fa-calendar-alt">​</i></time>
        </div>
      </aside>
      <section class="article-text">
        <p>Příští týden mne čekají hned tři live streamy (v pondělí a úterý o <a href="/2019/03/pameti-v-arduinu">pamětech v Arduinu</a> a ve čtvrtek budeme <a href="/2019/02/askme-dotvvm-1-zaznam">pokračovat s přepisem AskMe do DotVVM</a>) a proto jsem se rozhodl poněkud upgradovat svou streamovací sestavu, dosud používanou převážně na dálková školení. Vyrobil jsem také hardwarovou konzoli (rig) na ovládání OBS Studia.</p>
<h2 id="hardware">Hardware</h2>
<p>Ke streamování používám svou hlavní pracovní stanici. Je to klasický desktop a procesorem AMD Ryzen 5, 32 GB RAM, hromadou disků a připojenými čtyřmi monitory. K tomu mám Microsoft LifeCam Studio, což je velmi kvalitní USB webkamera s Full HD rozlišením a slušnou optikou.</p>
<p>Mám ještě několik dalších HD kamer, které chci natáhnout na další místa, až budu zase něco pájet nebo dělat s hardwarem, ale s tím jsem zatím ještě nic zásadního nedělal.</p>
<h2 id="software-a-nastaveni">Software a nastavení</h2>
<p>Ke streamování používám program <a href="https://obsproject.com/">OBS Studio</a>. Ten umí pracovat s několika různými zdroji obrazu a zvuku (obrazovka, kamera, video soubor, framegrabber atd.) a různě je mixovat přes sebe a podobně. Výsledný signál umí lokálně nahrávat a přes RTSP posílat na různé video servery, které ho posílají dál do světa. Já mám zkušenosti s YouTube a Facebook Live, Tomáš Herceg zase používá Twitch.</p>
<p>V OBS Studiu lze definovat &quot;Scény&quot;, které obsahují obraz z různých zdrojů a mezi kterými se lze jednoduše přepínat:</p>
<figure>
    <img src="https://www.cdn.altairis.cz/Blog/2019/20190302-obs-scene1.png" alt="Camera only" />
    <figcaption>Scéna "Camera only" obsahuje pouze obraz z kamery a zvuk ze stolního mikrofonu. Tuto scénu používám, když něco vykládám a není důležité, co je na obrazovce.</figcaption>
</figure>
<figure>
    <img src="https://www.cdn.altairis.cz/Blog/2019/20190302-obs-scene2.png" alt="Screen only" />
    <figcaption>Scéna "Screen only" obsahuje obrazovku mého hlavního monitoru. Je trochu ořízlý, protože používám rozlišení 1920&times;1200 a stream je jenom 1920&times;1080. Chybí tedy 60px nahoře a 60px dole. Což většinou nevadí a přijde mi to jako menší zlo, než zmenšovat obraz a doplnit ho černými pruhy po stranách. Tuto scénu používám, když chci, aby diváci přesně viděli, co dělám na obrazovce.</figcaption>
</figure>
<figure>
    <img src="https://www.cdn.altairis.cz/Blog/2019/20190302-obs-scene3.png" alt="Screen + camera" />
    <figcaption>Scéna "Screen + Camera" obsahuje zmenšenou obrazovku a oříznutý obraz z kamery. Používám ji, když vykládám s prezentací, takže zmenšení nevadí a zároveň je dobré vidět i přednášejícího.</figcaption>
</figure>
<figure>
    <img src="https://www.cdn.altairis.cz/Blog/2019/20190302-obs-scene4.png" alt="Brand loop 01" />
    <figcaption>Scéna "Brand loop 01" obsahuje video, logo firmy na abstraktním pozadí.</figcaption>
</figure>
<figure>
    <img src="https://www.cdn.altairis.cz/Blog/2019/20190302-obs-scene5.png" alt="Brand loop 02" />
    <figcaption>Scéna "Brand loop 02" obsahuje jiné video podobného typu. Tyto scény používám na začátku a na konci streamu, případně když z nějakého důvodu potřebuju vypnout zvuk nebo nic nesdílet. Video je vhodnější než statický obrázek, protože diváci vidí, že se tam pořád něco hýbe a že stream běží.</figcaption>
</figure>
<h2 id="ovladaci-panel">Ovládací panel</h2>
<p>OBS se samozřejmě dá ovládat pomocí myši, klávesových zkratek nebo dotykové obrazovky. Pro rychlou práci ale není nic lepšího, než klasická hardwarová tlačítka.</p>
<p>Vyrobil jsem si tedy ovládací panel, který používá velká barevná tlačítka z hracích automatů:</p>
<p><img src="https://www.cdn.altairis.cz/Blog/2019/20190302-rig-front.jpg" alt="OBS Control Rig" /></p>
<p>Pět barevných tlačítek dole přepíná scény. Červené hranaté tlačítko spouští a zastavuje záznam, zelené hranaté tlačítko pak streamování. Obě hrataná tlačítka jsou podsvícená a pokud běží záznam nebo stream, svítí. Komunikace mezi ovládacím panelem a OBS je ale jednosměrná, panel neví zda se skutečně nahrává nebo ne, ví jenom kolikrát bylo stisknuto příslušné tlačítko. Předpokládá se, že po zapojení panelu nebude OBS Studio ovládáno jinak.</p>
<p>Celý panel je postaven na desce Arduino Pro Micro, která obsahuje procesor ATmega32u4. Ten umí mimo jiné emulovat USB klávesnici. Panel nedělá nic jiného, než že posílá do počítače klávesové zkratky <em>Ctrl+Alt+Shift+F1</em> až <em>Ctrl+Alt+Shift+F7</em>. Ty jsem v nastavení OBS namapoval na přepínání výše uvedených scén a start/stop záznamu a streamu.</p>
<p>Fyzicky je panel vyrobený kombinací několika technologií:</p>
<ul>
<li>Hlavní skříňka je vytištěna na 3D tiskárně.</li>
<li>Na ní je položený potištěný papír vyřezaný na řezacím plotteru, který obsahuje popisky scén.</li>
<li>Papír je přikrytý 2 mm silným plexisklem, které ho chrání proti ušpinění a jinému poškození.</li>
</ul>
<p>Myšlenka je, že papír by mělo být možné snadno vyměnit, podle toho jaký bude význam tlačítek.</p>
<p>Tato konstrukce se v praxi neosvědčila. Takhle velký model se na 3D tiskárně tiskne dlouho a nikdy se mi nepodařilo ho vytisknout úplně dokonale. Je přijatelný, ale není zcela přesný. Proto jsem se rozhodl vytvořit novější model, který bude mít skříňku vyřezanou na laseru z překližky a trochu jinak udělaný kryt z plexi.</p>
<p>Pokud vás zajímají podklady pro výrobu a zdrojové kódy, <a href="https://github.com/ridercz/ObsControl">najdete je na mém GitHubu</a>.</p>

      </section>
      <section class="issues">
        <header>
          <i class="fab fa-github">​</i> Je v článku něco špatně? Chcete něco doplnit?</header>
        <p>Komentáře zde nenajdete, ale pokud je v článku chyba nebo k němu chcete něco věcného doplnit, můžete na GitHubu <a href="https://github.com/ridercz/Blog/issues/new?title=Moje+vybaven%c3%ad+pro+live+stream%3a+OBS+control+rig&amp;body=https://www.altair.blog/2019/03/obs-control">otevřít nový issue</a> nebo <a href="https://github.com/ridercz/Blog/edit/master/source/2019/03/obs-control.md">navrhnout změnu v textu</a> a poslat mi pull request.</p>
        <p>Tamtéž také najdete <a href="https://github.com/ridercz/Blog/commits/master/source/2019/03/obs-control.md">historii všech verzí článku</a>, pokud v něm byly provedeny nějaké změny či úpravy.</p>
      </section>
      <section class="sharing">
        <span>Pošli to dál:</span>
        <ul>
          <li>
            <a href="https://twitter.com/intent/tweet?text=https://www.altair.blog/2019/03/obs-control">
              <i class="fab fa-twitter">​</i>
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com/sharer.php?u=https://www.altair.blog/2019/03/obs-control">
              <i class="fab fa-facebook-f">​</i>
            </a>
          </li>
        </ul>
      </section>
    </main>
    <footer>
      <ul class="logos">
        <li>
          <img src="/content/images/logo_onwhite.svg" alt="altair.blog" style="height:38px;" />
        </li>
      </ul>
      <ul class="text">
        <li>
          Copyright © <a href="https://www.rider.cz/">Michal Altair Valášek</a>, 2003-2019</li>
        <li>
          Powered by <a href="https://www.xml4web.com/">XML4web</a> on <a href="https://www.github.com/">GitHub Pages</a></li>
        <li>
          <i class="fal fa-rss">​</i> RSS: <a href="/feed.rss">všechno</a> | <a href="/feed-internal.rss">místní</a> | <a href="/feed-external.rss">odkazy</a></li>
      </ul>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/cs.min.js" integrity="sha256-FA/nNCvKfGdhdbNDRy0q50kSiee+lwHIHXpu0PTD3E0=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/dos.min.js" integrity="sha256-2rzI2inyZTuqpt3ZQtgN0ezM8PgkMQLlVCaHshqVLe4=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/markdown.min.js" integrity="sha256-rKw1H9B1GnccvcVdRBfRB6EZt3jaXLLbeEWSSEKmtgg=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/openscad.min.js" integrity="sha256-Y9GkiAmfiOzodbzy8YHB98RiHtWi5AtEgzxr9k0S5jg=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/powershell.min.js" integrity="sha256-YKxCyo85JjNZ2Dwsj9CUsCPcUemLxwMnUJGAn2PXJU8=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/scss.min.js" integrity="sha256-eek2X9CXZFSN3jZUYGcxdvpGUbEjjtXobLOI8/qxZqk=" crossorigin="anonymous">//</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/xml.min.js" integrity="sha256-LOa0DHufGN2pVUzWMDfCHhttYdt0S7KcTB98p7Rv2k4=" crossorigin="anonymous">//</script>
    <script type="text/javascript">
                  hljs.initHighlightingOnLoad();
              </script>
  </body>
</html>